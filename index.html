<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Game</title>
    <style>
        /* استایل برای صفحه بارگذاری */
        #loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .loading-circle {
            border: 8px solid transparent;
            border-top: 8px solid white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            margin-top: 8px;
            color: white;
            font-size: 20px;
        }

        /* استایل های اصلی */
        html, body {
            background-color: black;
            margin: 0;
            font-family: Arial, sans-serif;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
        }

        #score-container {
            position: relative;
            top: 20px;
            color: white;
            font-size: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        #ovals-container {
            margin-top: 100px;
            width: calc(100% - 40px); /* 100% عرض صفحه منهای 40px (20px از هر طرف) */
        }

        .decorative-oval {
            width: 100%; /* عرض کامل */
            height: 40px; /* ارتفاع بیضی */
            background-color: white;
            border-radius: 20px; /* لبه‌های گرد */
            margin: 10px 0; /* فاصله عمودی بین بیضی‌ها */
            display: flex;
            align-items: center;
            justify-content: space-between; /* توزیع فضا بین متن و بیضی سیاه */
            padding: 0 10px; /* فاصله داخلی */
        }

        .go-oval {
            background-color: black; /* رنگ پس‌زمینه بیضی سیاه */
            color: white; /* رنگ متن بیضی سیاه */
            width: 40px; /* عرض بیضی سیاه */
            height: 40px; /* ارتفاع بیضی سیاه */
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 20px; /* لبه‌های گرد */
        }

        #bottom-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50px; 
            background-color: #1a1a1a;
            display: flex;
            justify-content: space-around; 
            align-items: center; 
            padding: 0 10px; 
            z-index: 1000; 
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5); 
        }

        .icon-container {
            display: flex;
            flex-direction: column; 
            align-items: center; 
            transition: transform 0.3s, opacity 0.3s; 
            cursor: pointer; 
            padding: 0 4px; 
        }

        .icon-container img {
            width: 20px; 
            height: 20px; 
            transition: transform 0.3s, filter 0.3s; 
            margin-bottom: 5px; 
        }

        .icon-container:hover img {
            transform: scale(1.2); 
            filter: brightness(1.2); 
        }

        .icon-label {
            visibility: hidden; 
            font-size: 14px; 
            opacity: 0; 
            transition: opacity 0.3s, transform 0.3s; 
            transform: translateY(10px); 
            color: white; 
        }

        .icon-container.active .icon-label {
            visibility: visible; 
            opacity: 1; 
            transform: translateY(0); 
        }

        .icon-container.active img {
            transform: scale(1.2); 
        }
    </style>
</head>
<body>
    <div id="loading-screen">
        <div class="loading-circle"></div>
        <div class="loading-text">Loading...</div>
    </div>

    <div id="score-container" style="display:none;">
        <img src="tortles.png" alt="Tortles" style="width: 50px; height: 50px;">
        <div id="score-content">
            <span id="userScore">0</span>
            <span style="margin-left: 10px;">tortles</span>
        </div>
    </div>

    <div id="ovals-container" style="display:none;">
        <div class="decorative-oval">
            <span>Channel Telegram</span>
            <div class="go-oval">Go</div>
        </div>
        <div class="decorative-oval">
            <span>Join X</span>
            <div class="go-oval">Go</div>
        </div>
        <div class="decorative-oval">
            <span>Follow X</span>
            <div class="go-oval">Go</div>
        </div>
        <div class="decorative-oval">
            <span>Join Bot</span>
            <div class="go-oval">Go</div>
        </div>
        <div class="decorative-oval">
            <span>Friend</span>
            <div class="go-oval">Go</div>
        </div>
    </div>

    <div id="showMore" style="display:none;">
        Show More <span class="arrow">▼</span>
    </div>

    <div id="content" style="display:none;">
        <div id="comingSoon">Coming Soon...</div>
    </div>

    <div id="bottom-bar" style="display:none;">
        <div class="icon-container active" id="icon1" tabindex="0">
            <img src="image1.png" alt="Left Icon">
            <span class="icon-label">Home</span>
        </div>
        <div class="icon-container" id="icon2">
            <img src="image3.png" alt="Leaderboard">
            <span class="icon-label">Leaderboard</span>
        </div>
        <div class="icon-container" id="icon3">
            <img src="image2.png" alt="Friends">
            <span class="icon-label">Friends</span>
        </div>
    </div>

    <script>
        const scoreElement = document.getElementById('userScore');
        const ovalsContainer = document.getElementById('ovals-container');
        const showMore = document.getElementById('showMore');
        const icon1 = document.getElementById('icon1');
        const icon2 = document.getElementById('icon2');
        const icon3 = document.getElementById('icon3');

        const previousImages = {
            icon1: 'image11.png', 
            icon2: 'image3.png',
            icon3: 'image2.png'
        };

        const activeImages = {
            icon1: 'image1.png', 
            icon2: 'image22.png', 
            icon3: 'image33.png'
        };

        let score = parseInt(localStorage.getItem('score')) || 0;
        scoreElement.textContent = score;

        let showAll = false;

        function updateShowMore() {
            showMore.style.display = 'block';
            showMore.innerHTML = showAll ? 'Show Less <span class="arrow">▲</span>' : 'Show More <span class="arrow">▼</span>';
        }

        function toggleOvals() {
            showAll = !showAll;
            const ovals = ovalsContainer.querySelectorAll('.decorative-oval');
            ovals.forEach((oval, index) => {
                oval.style.display = showAll || index < 5 ? 'flex' : 'none';
            });
            updateShowMore();
        }

        function activateIcon(icon) {
            const previouslyActive = document.querySelector('.icon-container.active');
            if (previouslyActive) {
                previouslyActive.classList.remove('active');

                const previousIconId = previouslyActive.id;
                const previousImage = previouslyActive.querySelector('img');
                const label = previouslyActive.querySelector('.icon-label');

                label.style.opacity = '0'; 
                label.style.visibility = 'hidden'; 
                label.style.transform = 'translateY(10px)'; 

                setTimeout(() => {
                    previousImage.src = previousImages[previousIconId];
                    previousImage.style.transform = 'scale(1)'; 
                }, 100); 
            }

            icon.classList.add('active');

            const activeImage = icon.querySelector('img');
            activeImage.src = activeImages[icon.id];
            activeImage.style.transform = 'scale(1.2)'; 

            const label = icon.querySelector('.icon-label');
            label.style.visibility = 'visible'; 
            label.style.opacity = '1'; 
            label.style.transform = 'translateY(0)'; 
        }

        icon1.addEventListener('click', () => activateIcon(icon1));
        icon2.addEventListener('click', () => activateIcon(icon2));
        icon3.addEventListener('click', () => activateIcon(icon3));

        showMore.addEventListener('click', toggleOvals);

        setTimeout(() => {
            document.getElementById('loading-screen').style.display = 'none';
            document.getElementById('score-container').style.display = 'flex';
            document.getElementById('ovals-container').style.display = 'block';
            document.getElementById('showMore').style.display = 'block';
            document.getElementById('content').style.display = 'flex';
            document.getElementById('bottom-bar').style.display = 'flex';
        }, 3000);
    </script>
</body>
</html>
